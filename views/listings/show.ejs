<% layout('layouts/boilerplate') -%>

<!-- =========================
     Listing Details Page
     Displays full details of a single listing
========================= -->

<div class="row">
  
  <!-- Page Title -->
  <div class="col-8 offset-2 mt-3 mb-3">
    <h3><%= listing.title %></h3>
  </div>

  <!-- Listing Card -->
  <div class="card col-6 offset-3 show-card">
    <!-- Listing Image -->
    <img 
      src="<%= listing.image %>" 
      class="card-img-top show-img" 
      alt="listing image"
    >

    <!-- Card Content -->
    <div class="card-body">
      <p class="card-text">
        <!-- Listing Description -->
        <%= listing.description %><br>

        <!-- Listing Price -->
        &#8377; <%= listing.price.toLocaleString("en-IN") %><br>

        <!-- Listing Location -->
        <%= listing.location %><br>

        <!-- Listing Country -->
        <%= listing.country %>
      </p>
    </div>
  </div>

  <!-- Buttons Section -->
  <!-- Displays Edit and Delete buttons side by side -->
  <div class="d-flex justify-content-center align-items-center gap-3 mt-4 mb-5">
    <!-- Edit Button -->
    <a 
      href="/listings/<%= listing._id %>/edit" 
      class="btn btn-dark add-btn px-4"
    >
      Edit
    </a>

    <!-- Delete Button -->
    <form 
      action="/listings/<%= listing._id %>?_method=DELETE" 
      method="post"
    >
      <button class="btn btn-dark px-4" type="submit">
        Delete
      </button>
    </form>
  </div>

  <div class="col-8 offset-3 mb-3">
    <hr>
    <h4>Leave a Review</h4>
    <form action="">
      <!-- Rating Input -->
      <div class="mb-3 mt-3">
        <label for="rating" class="form-label">Rating</label>
        <input type="range" min="1" max="5" id="rating" name="review[rating]" class="form-range">
      </div>
      <!-- Comment Input -->
      <div class="mb-3 mt-3">
        <label for="comment" class="form-lable">Comment</label>
        <textarea id="comment" name="review[comment]" rows="4" cols="50" class="form-control"></textarea>
      </div>
      <!-- Submit Button -->
      <div>
        <button class="btn btn-outline-dark" type="submit">Submit Review</button>
      </div>
    </form>
  </div>
</div>
